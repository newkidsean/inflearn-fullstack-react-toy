"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./components/MsgInput.js":
/*!********************************!*\
  !*** ./components/MsgInput.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst MsgInput = ({ mutate , text: text1 = '' , id =undefined  })=>{\n    const textRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const onSubmit = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        const text = textRef.current.value;\n        textRef.current.value = '';\n        mutate({\n            text,\n            id\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        className: \"messages__input\",\n        onSubmit: onSubmit,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                ref: textRef,\n                placeholder: \"fill in text\",\n                defaultValue: text1\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgInput.js\",\n                lineNumber: 16,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"submit\",\n                children: \"완료\"\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgInput.js\",\n                lineNumber: 21,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgInput.js\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MsgInput);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL01zZ0lucHV0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxQztBQUVyQyxLQUFLLENBQUNFLFFBQVEsSUFBSSxDQUFDLENBQUNDLE1BQU0sR0FBRUMsSUFBSSxFQUFKQSxLQUFJLEdBQUcsQ0FBRSxJQUFFQyxFQUFFLEVBQUdDLFNBQVMsRUFBQyxDQUFDLEdBQUssQ0FBQztJQUMzRCxLQUFLLENBQUNDLE9BQU8sR0FBR04sNkNBQU0sQ0FBQyxJQUFJO0lBRTNCLEtBQUssQ0FBQ08sUUFBUSxJQUFHQyxDQUFDLEdBQUksQ0FBQztRQUNyQkEsQ0FBQyxDQUFDQyxjQUFjLEVBQUUsQ0FBQztRQUNuQkQsQ0FBQyxDQUFDRSxlQUFlLEVBQUUsQ0FBQztRQUNwQixLQUFLLENBQUNQLElBQUksR0FBR0csT0FBTyxDQUFDSyxPQUFPLENBQUNDLEtBQUs7UUFDbENOLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDQyxLQUFLLEdBQUcsQ0FBRSxFQUFDO1FBQzNCVixNQUFNLENBQUMsQ0FBQztZQUFDQyxJQUFJO1lBQUVDLEVBQUU7UUFBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTSw2RUFDSFMsQ0FBSTtRQUFDQyxTQUFTLEVBQUMsQ0FBaUI7UUFBQ1AsUUFBUSxFQUFFQSxRQUFROzt3RkFDakRRLENBQVE7Z0JBQ1BDLEdBQUcsRUFBRVYsT0FBTztnQkFDWlcsV0FBVyxFQUFDLENBQWM7Z0JBQzFCQyxZQUFZLEVBQUVmLEtBQUk7Ozs7Ozt3RkFFbkJnQixDQUFNO2dCQUFDQyxJQUFJLEVBQUMsQ0FBUTswQkFBQyxDQUFFOzs7Ozs7Ozs7Ozs7QUFHOUIsQ0FBQztBQUVELGlFQUFlbkIsUUFBUSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50Ly4vY29tcG9uZW50cy9Nc2dJbnB1dC5qcz9jYzJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IE1zZ0lucHV0ID0gKHsgbXV0YXRlLCB0ZXh0ID0gJycsIGlkID0gdW5kZWZpbmVkIH0pID0+IHtcbiAgY29uc3QgdGV4dFJlZiA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBvblN1Ym1pdCA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHRleHQgPSB0ZXh0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgdGV4dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgbXV0YXRlKHsgdGV4dCwgaWQgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybSBjbGFzc05hbWU9XCJtZXNzYWdlc19faW5wdXRcIiBvblN1Ym1pdD17b25TdWJtaXR9PlxuICAgICAgPHRleHRhcmVhXG4gICAgICAgIHJlZj17dGV4dFJlZn1cbiAgICAgICAgcGxhY2Vob2xkZXI9XCJmaWxsIGluIHRleHRcIlxuICAgICAgICBkZWZhdWx0VmFsdWU9e3RleHR9XG4gICAgICAvPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+7JmE66OMPC9idXR0b24+XG4gICAgPC9mb3JtPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1zZ0lucHV0OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsIk1zZ0lucHV0IiwibXV0YXRlIiwidGV4dCIsImlkIiwidW5kZWZpbmVkIiwidGV4dFJlZiIsIm9uU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3VycmVudCIsInZhbHVlIiwiZm9ybSIsImNsYXNzTmFtZSIsInRleHRhcmVhIiwicmVmIiwicGxhY2Vob2xkZXIiLCJkZWZhdWx0VmFsdWUiLCJidXR0b24iLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/MsgInput.js\n");

/***/ }),

/***/ "./components/MsgItem.js":
/*!*******************************!*\
  !*** ./components/MsgItem.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MsgInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MsgInput */ \"./components/MsgInput.js\");\n\n\n\nconst MsgItem = ({ id , userId , timestamp , text , onUpdate , isEditing , startEdit , onDelete , myId , user  })=>{\n    // console.log({ user });\n    // console.log({ userId });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n        className: \"messages__item\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                children: [\n                    user.nickname,\n                    ' ',\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"sub\", {\n                        children: new Date(timestamp).toLocaleString('ko-KR', {\n                            year: 'numeric',\n                            month: 'numeric',\n                            day: 'numeric',\n                            hour: '2-digit',\n                            minute: '2-digit',\n                            hour12: true\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                        lineNumber: 23,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, undefined),\n            isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MsgInput__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    mutate: onUpdate,\n                    text: text,\n                    id: id\n                }, void 0, false, {\n                    fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                    lineNumber: 36,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false) : text,\n            myId === userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"messages__buttons\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: startEdit,\n                        children: \"수정\"\n                    }, void 0, false, {\n                        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                        lineNumber: 43,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onDelete,\n                        children: \"삭제\"\n                    }, void 0, false, {\n                        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                        lineNumber: 44,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n                lineNumber: 42,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgItem.js\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MsgItem);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL01zZ0l0ZW0uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5QjtBQUNRO0FBRWpDLEtBQUssQ0FBQ0UsT0FBTyxJQUFJLENBQUMsQ0FDaEJDLEVBQUUsR0FDRkMsTUFBTSxHQUNOQyxTQUFTLEdBQ1RDLElBQUksR0FDSkMsUUFBUSxHQUNSQyxTQUFTLEdBQ1RDLFNBQVMsR0FDVEMsUUFBUSxHQUNSQyxJQUFJLEdBQ0pDLElBQUksRUFDTixDQUFDLEdBQUssQ0FBQztJQUNMLEVBQXlCO0lBQ3pCLEVBQTJCO0lBQzNCLE1BQU0sNkVBQ0hDLENBQUU7UUFBQ0MsU0FBUyxFQUFDLENBQWdCOzt3RkFDM0JDLENBQUU7O29CQUVBSCxJQUFJLENBQUNJLFFBQVE7b0JBQUUsQ0FBRztnR0FDbEJDLENBQUc7a0NBQ0QsR0FBRyxDQUFDQyxJQUFJLENBQUNiLFNBQVMsRUFBRWMsY0FBYyxDQUFDLENBQU8sUUFBRSxDQUFDOzRCQUM1Q0MsSUFBSSxFQUFFLENBQVM7NEJBQ2ZDLEtBQUssRUFBRSxDQUFTOzRCQUNoQkMsR0FBRyxFQUFFLENBQVM7NEJBQ2RDLElBQUksRUFBRSxDQUFTOzRCQUNmQyxNQUFNLEVBQUUsQ0FBUzs0QkFDakJDLE1BQU0sRUFBRSxJQUFJO3dCQUNkLENBQUM7Ozs7Ozs7Ozs7OztZQUdKakIsU0FBUztzR0FFTFAsaURBQVE7b0JBQUN5QixNQUFNLEVBQUVuQixRQUFRO29CQUFFRCxJQUFJLEVBQUVBLElBQUk7b0JBQUVILEVBQUUsRUFBRUEsRUFBRTs7Ozs7O2dDQUdoREcsSUFBSTtZQUVMSyxJQUFJLEtBQUtQLE1BQU0sZ0ZBQ2J1QixDQUFHO2dCQUFDYixTQUFTLEVBQUMsQ0FBbUI7O2dHQUMvQmMsQ0FBTTt3QkFBQ0MsT0FBTyxFQUFFcEIsU0FBUztrQ0FBRSxDQUFFOzs7Ozs7Z0dBQ3pCbUIsQ0FBRTt3QkFBQ0MsT0FBTyxFQUFFbkIsUUFBUTtrQ0FBRSxDQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkMsQ0FBQztBQUVELGlFQUFlUixPQUFPLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQvLi9jb21wb25lbnRzL01zZ0l0ZW0uanM/YzMyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1zZ0lucHV0IGZyb20gJy4vTXNnSW5wdXQnO1xuXG5jb25zdCBNc2dJdGVtID0gKHtcbiAgaWQsXG4gIHVzZXJJZCxcbiAgdGltZXN0YW1wLFxuICB0ZXh0LFxuICBvblVwZGF0ZSxcbiAgaXNFZGl0aW5nLFxuICBzdGFydEVkaXQsXG4gIG9uRGVsZXRlLFxuICBteUlkLFxuICB1c2VyXG59KSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKHsgdXNlciB9KTtcbiAgLy8gY29uc29sZS5sb2coeyB1c2VySWQgfSk7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cIm1lc3NhZ2VzX19pdGVtXCI+XG4gICAgICA8aDM+XG4gICAgICAgIHsvKiB7dXNlcklkfXsnICd9ICovfVxuICAgICAgICB7dXNlci5uaWNrbmFtZX17JyAnfVxuICAgICAgICA8c3ViPlxuICAgICAgICAgIHtuZXcgRGF0ZSh0aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKCdrby1LUicsIHtcbiAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1vbnRoOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICAgICAgaG91cjEyOiB0cnVlXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvc3ViPlxuICAgICAgPC9oMz5cbiAgICAgIHtpc0VkaXRpbmcgPyAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPE1zZ0lucHV0IG11dGF0ZT17b25VcGRhdGV9IHRleHQ9e3RleHR9IGlkPXtpZH0gLz5cbiAgICAgICAgPC8+XG4gICAgICApIDpcbiAgICAgICAgdGV4dFxuICAgICAgfVxuICAgICAge215SWQgPT09IHVzZXJJZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZXNfX2J1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3N0YXJ0RWRpdH0+7IiY7KCVPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkRlbGV0ZX0+7IKt7KCcPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1zZ0l0ZW07Il0sIm5hbWVzIjpbIlJlYWN0IiwiTXNnSW5wdXQiLCJNc2dJdGVtIiwiaWQiLCJ1c2VySWQiLCJ0aW1lc3RhbXAiLCJ0ZXh0Iiwib25VcGRhdGUiLCJpc0VkaXRpbmciLCJzdGFydEVkaXQiLCJvbkRlbGV0ZSIsIm15SWQiLCJ1c2VyIiwibGkiLCJjbGFzc05hbWUiLCJoMyIsIm5pY2tuYW1lIiwic3ViIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsIm11dGF0ZSIsImRpdiIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/MsgItem.js\n");

/***/ }),

/***/ "./components/MsgListGraphql.js":
/*!**************************************!*\
  !*** ./components/MsgListGraphql.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _MsgItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MsgItem */ \"./components/MsgItem.js\");\n/* harmony import */ var _MsgInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MsgInput */ \"./components/MsgInput.js\");\n/* harmony import */ var _queryClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../queryClient */ \"./queryClient.js\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-query */ \"react-query\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _graphql_message__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/message */ \"./graphql/message.js\");\n/* harmony import */ var _hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hooks/useInfiniteScroll */ \"./hooks/useInfiniteScroll.js\");\n\n\n\n\n\n\n\n\n\n// smsgs 는 SSR 로 구현되어 들어오는 messages props\nconst MsgListGraphql = ({ smsgs , users  })=>{\n    console.log('MsgListGraphql :', smsgs);\n    console.log('MsgListGraphql :', users);\n    const client = (0,react_query__WEBPACK_IMPORTED_MODULE_6__.useQueryClient)();\n    // return null;\n    // query 를 통해 userId 를 가지고 옴\n    const { query  } = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // windows 의 경우 대문자를 자동으로 소문자로 변환하는 경우가 있어서\n    // userId 를 userId, userid 두 가지 경우를 모두 넣어 주어서\n    // windows가 임의로 Id => id 로 바꾸는 경우도 대응\n    const userId = query.userId || query.userid || '';\n    console.log({\n        userId\n    });\n    // const [msgs, setMsgs] = useState(originalMsgs);\n    // const [msgs, setMsgs] = useState([]);\n    // 위에는 CRS 이었지만 SSR 로 바꾸면서 props 로 받은 메시지들을 setState 해 준다\n    const { 0: msgs , 1: setMsgs  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(smsgs);\n    const { 0: editingId , 1: setEditingId  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // 아래 세 줄은 무한 스크롤을 위한 용도\n    // const [hasNext, setHasNext] = useState(true);\n    const fetchMoreEl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const intersecting = (0,_hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(fetchMoreEl);\n    // mutation 은 text 를 입력받아서 fetcher 함수에 text와 userId 를 variables 로 넣어서 날려주고,\n    // 성공하면 반환되는 메시지를 react-query 가 관리하는 cache 에 저장하도록 한다\n    const { mutate: onCreate  } = (0,react_query__WEBPACK_IMPORTED_MODULE_6__.useMutation)(({ text  })=>(0,_queryClient__WEBPACK_IMPORTED_MODULE_5__.fetcher)(_graphql_message__WEBPACK_IMPORTED_MODULE_7__.CREATE_MESSAGE, {\n            text,\n            userId\n        })\n    , {\n        onSuccess: ({ createMessage  })=>{\n            // client 에 접근해서 setQueryData 라는 메소드로 저장을 하는데,\n            // 쿼리키 를 통해 어떤 데이타에 접근하려는지 찾고,\n            client.setQueryData(_queryClient__WEBPACK_IMPORTED_MODULE_5__.QueryKeys.MESSAGES, (old)=>{\n                // 저장값은 useQuery 의 응답 형태. 즉, data: { messages : [...] }\n                // 이런 형태로 리턴해 주면 된다\n                return {\n                    messages: [\n                        ...createMessage,\n                        ...old.messages\n                    ]\n                };\n            });\n        }\n    });\n    const { mutate: onUpdate  } = (0,react_query__WEBPACK_IMPORTED_MODULE_6__.useMutation)(({ text , id  })=>(0,_queryClient__WEBPACK_IMPORTED_MODULE_5__.fetcher)(_graphql_message__WEBPACK_IMPORTED_MODULE_7__.UPDATE_MESSAGE, {\n            text,\n            id,\n            userId\n        })\n    , {\n        onSuccess: ({ updateMessage  })=>{\n            doneEdit();\n            client.setQueryData(_queryClient__WEBPACK_IMPORTED_MODULE_5__.QueryKeys.MESSAGES, (old)=>{\n                const { pageIndex , msgIndex  } = findTargetMsgIndex(old.pages, updateMessage.id);\n                if (pageIndex < 0 || msgIndex < 0) return old;\n                const newMsgs = getNewMessages(old);\n                newMsgs.pages[pageIndex].messages.splice(msgIndex, 1, updateMessage);\n                return newMsgs;\n            });\n        }\n    });\n    const doneEdit = ()=>setEditingId(null)\n    ;\n    const { mutate: onDelete  } = (0,react_query__WEBPACK_IMPORTED_MODULE_6__.useMutation)((id)=>(0,_queryClient__WEBPACK_IMPORTED_MODULE_5__.fetcher)(_graphql_message__WEBPACK_IMPORTED_MODULE_7__.UPDATE_MESSAGE, {\n            id,\n            userId\n        })\n    , {\n        onSuccess: ({ deleteMessage: deletedId  })=>{\n            client.setQueryData(_queryClient__WEBPACK_IMPORTED_MODULE_5__.QueryKeys.MESSAGES, (old)=>{\n                const targetIndex = old.messages.findIndex((msg)=>msg.id === deletedId\n                );\n                if (targetIndex < 0) return old;\n                const newMsgs = [\n                    ...old.messages\n                ];\n                newMsgs.splice(targetIndex, 1);\n                return {\n                    messages: newMsgs\n                };\n            });\n            doneEdit();\n        }\n    });\n    // react-query 의 useQuery 를 사용할 때 query key 를 사용하지 않고, options 만으로도 쿼리를 날릴 수 있지만,\n    // graphQL 과 같이 사용하려면 query key 를 꼭 같이 사용해야 한다\n    // 두 번째 인자는 서버와 통신을 하는 FETCHER 함수에 원하는 데이타 구조인 GET_MESSAGES 를 인자로 담아서 날려야 하는데,\n    // 화살표 함수를 이용하는 이유는 이미 함수가 실행된 결과를 useQuery 에 넣어주는 꼴이기 때문에\n    // 화살표 함수로 감싸서 필요할 때(그때 그때) 호출이 되도록 해야 한다.\n    // 즉 함수의 결과값이 아닌, 함수 자체가 전달되도록 해야 함\n    // 여기서 props 로 받은 smsgs 는 SSR을 통해 날아온 정보이고, 하이드레이션 세팅을 통해 일단 캐시에 저장되어 있다.\n    // 아래 쿼리는 앱이 실행되면 실행되어 쿼리를 받아오지만, 이미 한번 SSR 을 통해 캐시에 저장되어 있는 데이터가 있기 때문에\n    // 둘이 비교해서 차이가 없다면 굳이 새 데이터로 바꿔치기 하지 않고, 기존에 저장되어 있는 데이터를 반환하게 된다\n    // const { data, error, isError } = useQuery(QueryKeys.MESSAGES, () => fetcher(GET_MESSAGES));\n    const { data , error , isError , fetchNextPage , hasNextPage  } = (0,react_query__WEBPACK_IMPORTED_MODULE_6__.useInfiniteQuery)(_queryClient__WEBPACK_IMPORTED_MODULE_5__.QueryKeys.MESSAGES, ({ pageParam =''  })=>// console.log({ res });\n        // console 로 res 를 찍어보면 아래와 같다\n        // res:\n        // meta: undefined\n        // pageParam: undefined\n        // queryKey: ['MESSAGES']\n        (0,_queryClient__WEBPACK_IMPORTED_MODULE_5__.fetcher)(_graphql_message__WEBPACK_IMPORTED_MODULE_7__.GET_MESSAGES, {\n            cursor: pageParam\n        })\n    , {\n        // getNextPageParam 에 들어오는 res 를 콘솔로 찍어보면 messages: [{}, {}] 이 들어온다\n        // 즉, 응답받은 messages 배열이 들어오기 때문에 리턴값은 제일 마지막 메시지의 id 를 리턴해 줌으로써\n        // 해당 id 값을 커서 로 이용할 수 있게 한다\n        // console.log({ res });\n        getNextPageParam: ({ messages  })=>{\n            var ref;\n            return messages === null || messages === void 0 ? void 0 : (ref = messages[messages.length - 1]) === null || ref === void 0 ? void 0 : ref.id;\n        }\n    });\n    // infinity scroll 적용 전\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!(data === null || data === void 0 ? void 0 : data.messages)) return;\n        console.log('msgs changed');\n        setMsgs(data.messages);\n    }, [\n        data === null || data === void 0 ? void 0 : data.messages\n    ]);\n    // infinity scroll 적용 후\n    // 왜냐하면 인피니티 스크롤은 설정한 page 단위별로 데이터가 들어오기 때문\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!(data === null || data === void 0 ? void 0 : data.pages)) return;\n        // data.pages 는 아래와 같은 구조로 들어오기 때문에 page 변화에 따라 msgs 를 업데이트 해 주려면\n        // flatten 작업이 필요하다\n        // const data.pages = [{ messages: [...]}, { messages: [...]}] => [...]\n        const mergedMsgs = data.pages.flatMap((page)=>page.messages\n        );\n        setMsgs(mergedMsgs);\n    }, [\n        data === null || data === void 0 ? void 0 : data.pages\n    ]);\n    if (isError) {\n        console.error(error);\n        return null;\n    }\n    ;\n    // infinity scroll 적용 전\n    // useEffect(() => {\n    //   if (intersecting && hasNext) getMessages();\n    // }, [intersecting]);\n    // infinity scroll 적용 후\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (intersecting && hasNextPage) fetchNextPage();\n    }, [\n        intersecting,\n        hasNextPage\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            userId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MsgInput__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                mutate: onCreate\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgListGraphql.js\",\n                lineNumber: 151,\n                columnNumber: 18\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                className: \"messages\",\n                children: msgs.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MsgItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        ...msg,\n                        onUpdate: onUpdate,\n                        onDelete: ()=>onDelete(msg.id)\n                        ,\n                        startEdit: ()=>setEditingId(msg.id)\n                        ,\n                        isEditing: editingId === msg.id,\n                        myId: userId,\n                        user: users.find((user)=>user.id === msg.userId\n                        )\n                    }, msg.id, false, {\n                        fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgListGraphql.js\",\n                        lineNumber: 154,\n                        columnNumber: 11\n                    }, undefined)\n                )\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgListGraphql.js\",\n                lineNumber: 152,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: fetchMoreEl\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/components/MsgListGraphql.js\",\n                lineNumber: 165,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MsgListGraphql);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZO1FBQUUrQixXQUFXO0lBQUEsQ0FBQyxDQUFDLENBQUM7SUFFaEMsTUFBTTs7WUFFRHRDLE1BQU0sZ0ZBQUtuQixpREFBUTtnQkFBQzJCLE1BQU0sRUFBRUMsUUFBUTs7Ozs7O3dGQUNwQ3FDLENBQUU7Z0JBQUNDLFNBQVMsRUFBQyxDQUFVOzBCQUN0QjdDLElBQUksQ0FBQzhDLEdBQUcsRUFBQ2YsR0FBRywrRUFDVHJELGdEQUFPOzJCQUVGcUQsR0FBRzt3QkFDUGhCLFFBQVEsRUFBRUEsUUFBUTt3QkFDbEJXLFFBQVEsTUFBUUEsUUFBUSxDQUFDSyxHQUFHLENBQUNmLEVBQUU7O3dCQUMvQitCLFNBQVMsTUFBUTVDLFlBQVksQ0FBQzRCLEdBQUcsQ0FBQ2YsRUFBRTs7d0JBQ3BDZ0MsU0FBUyxFQUFFOUMsU0FBUyxLQUFLNkIsR0FBRyxDQUFDZixFQUFFO3dCQUMvQmlDLElBQUksRUFBRW5ELE1BQU07d0JBQ1pvRCxJQUFJLEVBQUV6RCxLQUFLLENBQUMwRCxJQUFJLEVBQUNELElBQUksR0FBSUEsSUFBSSxDQUFDbEMsRUFBRSxLQUFLZSxHQUFHLENBQUNqQyxNQUFNOzt1QkFQMUNpQyxHQUFHLENBQUNmLEVBQUU7Ozs7Ozs7Ozs7O3dGQVVoQm9DLENBQUc7Z0JBQUNDLEdBQUcsRUFBRWpELFdBQVc7Ozs7Ozs7O0FBRzNCLENBQUM7QUFFRCxpRUFBZWIsY0FBYyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50Ly4vY29tcG9uZW50cy9Nc2dMaXN0R3JhcGhxbC5qcz83NzBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgTXNnSXRlbSBmcm9tICcuL01zZ0l0ZW0nO1xuaW1wb3J0IE1zZ0lucHV0IGZyb20gJy4vTXNnSW5wdXQnO1xuaW1wb3J0IHsgZmV0Y2hlciwgUXVlcnlLZXlzIH0gZnJvbSAnLi4vcXVlcnlDbGllbnQnO1xuaW1wb3J0IHsgdXNlUXVlcnksIHVzZU11dGF0aW9uLCB1c2VRdWVyeUNsaWVudCwgdXNlSW5maW5pdGVRdWVyeSB9IGZyb20gJ3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IENSRUFURV9NRVNTQUdFLCBHRVRfTUVTU0FHRVMsIFVQREFURV9NRVNTQUdFLCBERUxFVEVfTUVTU0FHRSB9IGZyb20gJy4uL2dyYXBocWwvbWVzc2FnZSc7XG5pbXBvcnQgdXNlSW5maW5pdGVTY3JvbGwgZnJvbSAnLi4vaG9va3MvdXNlSW5maW5pdGVTY3JvbGwnO1xuXG4vLyBzbXNncyDripQgU1NSIOuhnCDqtaztmITrkJjslrQg65Ok7Ja07Jik64qUIG1lc3NhZ2VzIHByb3BzXG5jb25zdCBNc2dMaXN0R3JhcGhxbCA9ICh7IHNtc2dzLCB1c2VycyB9KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdNc2dMaXN0R3JhcGhxbCA6Jywgc21zZ3MpO1xuICBjb25zb2xlLmxvZygnTXNnTGlzdEdyYXBocWwgOicsIHVzZXJzKTtcblxuICBjb25zdCBjbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xuXG4gIC8vIHJldHVybiBudWxsO1xuICAvLyBxdWVyeSDrpbwg7Ya17ZW0IHVzZXJJZCDrpbwg6rCA7KeA6rOgIOyYtFxuICBjb25zdCB7IHF1ZXJ5IH0gPSB1c2VSb3V0ZXIoKTtcbiAgLy8gd2luZG93cyDsnZgg6rK97JqwIOuMgOusuOyekOulvCDsnpDrj5nsnLzroZwg7IaM66y47J6Q66GcIOuzgO2ZmO2VmOuKlCDqsr3smrDqsIAg7J6I7Ja07IScXG4gIC8vIHVzZXJJZCDrpbwgdXNlcklkLCB1c2VyaWQg65GQIOqwgOyngCDqsr3smrDrpbwg66qo65GQIOuEo+yWtCDso7zslrTshJxcbiAgLy8gd2luZG93c+qwgCDsnoTsnZjroZwgSWQgPT4gaWQg66GcIOuwlOq+uOuKlCDqsr3smrDrj4Qg64yA7J2RXG4gIGNvbnN0IHVzZXJJZCA9IHF1ZXJ5LnVzZXJJZCB8fCBxdWVyeS51c2VyaWQgfHwgJyc7XG4gIGNvbnNvbGUubG9nKHsgdXNlcklkIH0pO1xuICAvLyBjb25zdCBbbXNncywgc2V0TXNnc10gPSB1c2VTdGF0ZShvcmlnaW5hbE1zZ3MpO1xuICAvLyBjb25zdCBbbXNncywgc2V0TXNnc10gPSB1c2VTdGF0ZShbXSk7XG4gIC8vIOychOyXkOuKlCBDUlMg7J207JeI7KeA66eMIFNTUiDroZwg67CU6r6466m07IScIHByb3BzIOuhnCDrsJvsnYAg66mU7Iuc7KeA65Ok7J2EIHNldFN0YXRlIO2VtCDspIDri6RcbiAgY29uc3QgW21zZ3MsIHNldE1zZ3NdID0gdXNlU3RhdGUoc21zZ3MpO1xuICBjb25zdCBbZWRpdGluZ0lkLCBzZXRFZGl0aW5nSWRdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8g7JWE656YIOyEuCDspITsnYAg66y07ZWcIOyKpO2BrOuhpOydhCDsnITtlZwg7Jqp64+EXG4gIC8vIGNvbnN0IFtoYXNOZXh0LCBzZXRIYXNOZXh0XSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBmZXRjaE1vcmVFbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaW50ZXJzZWN0aW5nID0gdXNlSW5maW5pdGVTY3JvbGwoZmV0Y2hNb3JlRWwpXG5cbiAgLy8gbXV0YXRpb24g7J2AIHRleHQg66W8IOyeheugpeuwm+yVhOyEnCBmZXRjaGVyIO2VqOyImOyXkCB0ZXh07JmAIHVzZXJJZCDrpbwgdmFyaWFibGVzIOuhnCDrhKPslrTshJwg64Kg66Ck7KO86rOgLFxuICAvLyDshLHqs7XtlZjrqbQg67CY7ZmY65CY64qUIOuplOyLnOyngOulvCByZWFjdC1xdWVyeSDqsIAg6rSA66as7ZWY64qUIGNhY2hlIOyXkCDsoIDsnqXtlZjrj4TroZ0g7ZWc64ukXG4gIGNvbnN0IHsgbXV0YXRlOiBvbkNyZWF0ZSB9ID0gdXNlTXV0YXRpb24oKHsgdGV4dCB9KSA9PiBmZXRjaGVyKENSRUFURV9NRVNTQUdFLCB7IHRleHQsIHVzZXJJZCB9KSwge1xuICAgIG9uU3VjY2VzczogKHsgY3JlYXRlTWVzc2FnZSB9KSA9PiB7XG4gICAgICAvLyBjbGllbnQg7JeQIOygkeq3vO2VtOyEnCBzZXRRdWVyeURhdGEg652864qUIOuplOyGjOuTnOuhnCDsoIDsnqXsnYQg7ZWY64qU642wLFxuICAgICAgLy8g7L+866as7YKkIOulvCDthrXtlbQg7Ja065akIOuNsOydtO2DgOyXkCDsoJHqt7ztlZjroKTripTsp4Ag7LC+6rOgLFxuICAgICAgY2xpZW50LnNldFF1ZXJ5RGF0YShRdWVyeUtleXMuTUVTU0FHRVMsIG9sZCA9PiB7XG4gICAgICAgIC8vIOyggOyepeqwkuydgCB1c2VRdWVyeSDsnZgg7J2R64u1IO2Yle2DnC4g7KaJLCBkYXRhOiB7IG1lc3NhZ2VzIDogWy4uLl0gfVxuICAgICAgICAvLyDsnbTrn7Ag7ZiV7YOc66GcIOumrO2EtO2VtCDso7zrqbQg65Cc64ukXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVzc2FnZXM6IFsuLi5jcmVhdGVNZXNzYWdlLCAuLi5vbGQubWVzc2FnZXNdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KTtcblxuICBjb25zdCB7IG11dGF0ZTogb25VcGRhdGUgfSA9IHVzZU11dGF0aW9uKCh7IHRleHQsIGlkIH0pID0+IGZldGNoZXIoVVBEQVRFX01FU1NBR0UsIHsgdGV4dCwgaWQsIHVzZXJJZCB9KSwge1xuICAgIG9uU3VjY2VzczogKHsgdXBkYXRlTWVzc2FnZSB9KSA9PiB7XG4gICAgICBkb25lRWRpdCgpXG4gICAgICBjbGllbnQuc2V0UXVlcnlEYXRhKFF1ZXJ5S2V5cy5NRVNTQUdFUywgb2xkID0+IHtcbiAgICAgICAgY29uc3QgeyBwYWdlSW5kZXgsIG1zZ0luZGV4IH0gPSBmaW5kVGFyZ2V0TXNnSW5kZXgob2xkLnBhZ2VzLCB1cGRhdGVNZXNzYWdlLmlkKVxuICAgICAgICBpZiAocGFnZUluZGV4IDwgMCB8fCBtc2dJbmRleCA8IDApIHJldHVybiBvbGRcbiAgICAgICAgY29uc3QgbmV3TXNncyA9IGdldE5ld01lc3NhZ2VzKG9sZClcbiAgICAgICAgbmV3TXNncy5wYWdlc1twYWdlSW5kZXhdLm1lc3NhZ2VzLnNwbGljZShtc2dJbmRleCwgMSwgdXBkYXRlTWVzc2FnZSlcbiAgICAgICAgcmV0dXJuIG5ld01zZ3NcbiAgICAgIH0pXG4gICAgfSxcbiAgfSlcblxuXG4gIGNvbnN0IGRvbmVFZGl0ID0gKCkgPT4gc2V0RWRpdGluZ0lkKG51bGwpO1xuXG4gIGNvbnN0IHsgbXV0YXRlOiBvbkRlbGV0ZSB9ID0gdXNlTXV0YXRpb24oaWQgPT4gZmV0Y2hlcihVUERBVEVfTUVTU0FHRSwgeyBpZCwgdXNlcklkIH0pLCB7XG4gICAgb25TdWNjZXNzOiAoeyBkZWxldGVNZXNzYWdlOiBkZWxldGVkSWQgfSkgPT4ge1xuICAgICAgY2xpZW50LnNldFF1ZXJ5RGF0YShRdWVyeUtleXMuTUVTU0FHRVMsIG9sZCA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gb2xkLm1lc3NhZ2VzLmZpbmRJbmRleChtc2cgPT4gbXNnLmlkID09PSBkZWxldGVkSWQpO1xuICAgICAgICBpZiAodGFyZ2V0SW5kZXggPCAwKSByZXR1cm4gb2xkO1xuICAgICAgICBjb25zdCBuZXdNc2dzID0gWy4uLm9sZC5tZXNzYWdlc107XG4gICAgICAgIG5ld01zZ3Muc3BsaWNlKHRhcmdldEluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZXM6IG5ld01zZ3MgfTtcbiAgICAgIH0pXG4gICAgICBkb25lRWRpdCgpXG4gICAgfVxuICB9KTtcblxuICAvLyByZWFjdC1xdWVyeSDsnZggdXNlUXVlcnkg66W8IOyCrOyaqe2VoCDrlYwgcXVlcnkga2V5IOulvCDsgqzsmqntlZjsp4Ag7JWK6rOgLCBvcHRpb25zIOunjOycvOuhnOuPhCDsv7zrpqzrpbwg64Kg66a0IOyImCDsnojsp4Drp4wsXG4gIC8vIGdyYXBoUUwg6rO8IOqwmeydtCDsgqzsmqntlZjroKTrqbQgcXVlcnkga2V5IOulvCDqvK0g6rCZ7J20IOyCrOyaqe2VtOyVvCDtlZzri6RcblxuICAvLyDrkZAg67KI7Ke4IOyduOyekOuKlCDshJzrsoTsmYAg7Ya17Iug7J2EIO2VmOuKlCBGRVRDSEVSIO2VqOyImOyXkCDsm5DtlZjripQg642w7J207YOAIOq1rOyhsOyduCBHRVRfTUVTU0FHRVMg66W8IOyduOyekOuhnCDri7TslYTshJwg64Kg66Ck7JW8IO2VmOuKlOuNsCxcbiAgLy8g7ZmU7IK07ZGcIO2VqOyImOulvCDsnbTsmqntlZjripQg7J207Jyg64qUIOydtOuvuCDtlajsiJjqsIAg7Iuk7ZaJ65CcIOqysOqzvOulvCB1c2VRdWVyeSDsl5Ag64Sj7Ja07KO864qUIOq8tOydtOq4sCDrlYzrrLjsl5BcbiAgLy8g7ZmU7IK07ZGcIO2VqOyImOuhnCDqsJDsi7jshJwg7ZWE7JqU7ZWgIOuVjCjqt7jrlYwg6re465WMKSDtmLjstpzsnbQg65CY64+E66GdIO2VtOyVvCDtlZzri6QuXG4gIC8vIOymiSDtlajsiJjsnZgg6rKw6rO86rCS7J20IOyVhOuLjCwg7ZWo7IiYIOyekOyytOqwgCDsoITri6zrkJjrj4TroZ0g7ZW07JW8IO2VqFxuXG4gIC8vIOyXrOq4sOyEnCBwcm9wcyDroZwg67Cb7J2AIHNtc2dzIOuKlCBTU1LsnYQg7Ya17ZW0IOuCoOyVhOyYqCDsoJXrs7TsnbTqs6AsIO2VmOydtOuTnOugiOydtOyFmCDshLjtjIXsnYQg7Ya17ZW0IOydvOuLqCDsupDsi5zsl5Ag7KCA7J6l65CY7Ja0IOyeiOuLpC5cbiAgLy8g7JWE656YIOy/vOumrOuKlCDslbHsnbQg7Iuk7ZaJ65CY66m0IOyLpO2WieuQmOyWtCDsv7zrpqzrpbwg67Cb7JWE7Jik7KeA66eMLCDsnbTrr7gg7ZWc67KIIFNTUiDsnYQg7Ya17ZW0IOy6kOyLnOyXkCDsoIDsnqXrkJjslrQg7J6I64qUIOuNsOydtO2EsOqwgCDsnojquLAg65WM66y47JeQXG4gIC8vIOuRmOydtCDruYTqtZDtlbTshJwg7LCo7J206rCAIOyXhuuLpOuptCDqtbPsnbQg7IOIIOuNsOydtO2EsOuhnCDrsJTqv5TsuZjquLAg7ZWY7KeAIOyViuqzoCwg6riw7KG07JeQIOyggOyepeuQmOyWtCDsnojripQg642w7J207YSw66W8IOuwmO2ZmO2VmOqyjCDrkJzri6RcbiAgLy8gY29uc3QgeyBkYXRhLCBlcnJvciwgaXNFcnJvciB9ID0gdXNlUXVlcnkoUXVlcnlLZXlzLk1FU1NBR0VTLCAoKSA9PiBmZXRjaGVyKEdFVF9NRVNTQUdFUykpO1xuXG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciwgaXNFcnJvciwgZmV0Y2hOZXh0UGFnZSwgaGFzTmV4dFBhZ2UgfSA9IHVzZUluZmluaXRlUXVlcnkoXG4gICAgUXVlcnlLZXlzLk1FU1NBR0VTLFxuICAgICh7IHBhZ2VQYXJhbSA9ICcnIH0pID0+XG4gICAgICAvLyBjb25zb2xlLmxvZyh7IHJlcyB9KTtcbiAgICAgIC8vIGNvbnNvbGUg66GcIHJlcyDrpbwg7LCN7Ja067O066m0IOyVhOuemOyZgCDqsJnri6RcbiAgICAgIC8vIHJlczpcbiAgICAgIC8vIG1ldGE6IHVuZGVmaW5lZFxuICAgICAgLy8gcGFnZVBhcmFtOiB1bmRlZmluZWRcbiAgICAgIC8vIHF1ZXJ5S2V5OiBbJ01FU1NBR0VTJ11cbiAgICAgIGZldGNoZXIoR0VUX01FU1NBR0VTLCB7IGN1cnNvcjogcGFnZVBhcmFtIH0pLFxuICAgIHtcbiAgICAgIC8vIGdldE5leHRQYWdlUGFyYW0g7JeQIOuTpOyWtOyYpOuKlCByZXMg66W8IOy9mOyGlOuhnCDssI3slrTrs7TrqbQgbWVzc2FnZXM6IFt7fSwge31dIOydtCDrk6TslrTsmKjri6RcbiAgICAgIC8vIOymiSwg7J2R64u167Cb7J2AIG1lc3NhZ2VzIOuwsOyXtOydtCDrk6TslrTsmKTquLAg65WM66y47JeQIOumrO2EtOqwkuydgCDsoJzsnbwg66eI7KeA66eJIOuplOyLnOyngOydmCBpZCDrpbwg66as7YS07ZW0IOykjOycvOuhnOyNqFxuICAgICAgLy8g7ZW064u5IGlkIOqwkuydhCDsu6TshJwg66GcIOydtOyaqe2VoCDsiJgg7J6I6rKMIO2VnOuLpFxuICAgICAgLy8gY29uc29sZS5sb2coeyByZXMgfSk7XG4gICAgICBnZXROZXh0UGFnZVBhcmFtOiAoeyBtZXNzYWdlcyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcz8uW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5pZFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIC8vIGluZmluaXR5IHNjcm9sbCDsoIHsmqkg7KCEXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkYXRhPy5tZXNzYWdlcykgcmV0dXJuO1xuICAgIGNvbnNvbGUubG9nKCdtc2dzIGNoYW5nZWQnKTtcbiAgICBzZXRNc2dzKGRhdGEubWVzc2FnZXMpO1xuICB9LCBbZGF0YT8ubWVzc2FnZXNdKTtcblxuICAvLyBpbmZpbml0eSBzY3JvbGwg7KCB7JqpIO2bhFxuICAvLyDsmZzrg5DtlZjrqbQg7J247ZS864uI7YuwIOyKpO2BrOuhpOydgCDshKTsoJXtlZwgcGFnZSDri6jsnITrs4TroZwg642w7J207YSw6rCAIOuTpOyWtOyYpOq4sCDrlYzrrLhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWRhdGE/LnBhZ2VzKSByZXR1cm47XG4gICAgLy8gZGF0YS5wYWdlcyDripQg7JWE656Y7JmAIOqwmeydgCDqtazsobDroZwg65Ok7Ja07Jik6riwIOuVjOusuOyXkCBwYWdlIOuzgO2ZlOyXkCDrlLDrnbwgbXNncyDrpbwg7JeF642w7J207Yq4IO2VtCDso7zroKTrqbRcbiAgICAvLyBmbGF0dGVuIOyekeyXheydtCDtlYTsmpTtlZjri6RcbiAgICAvLyBjb25zdCBkYXRhLnBhZ2VzID0gW3sgbWVzc2FnZXM6IFsuLi5dfSwgeyBtZXNzYWdlczogWy4uLl19XSA9PiBbLi4uXVxuICAgIGNvbnN0IG1lcmdlZE1zZ3MgPSBkYXRhLnBhZ2VzLmZsYXRNYXAocGFnZSA9PiBwYWdlLm1lc3NhZ2VzKTtcbiAgICBzZXRNc2dzKG1lcmdlZE1zZ3MpO1xuICB9LCBbZGF0YT8ucGFnZXNdKTtcblxuICBpZiAoaXNFcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIGluZmluaXR5IHNjcm9sbCDsoIHsmqkg7KCEXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgaWYgKGludGVyc2VjdGluZyAmJiBoYXNOZXh0KSBnZXRNZXNzYWdlcygpO1xuICAvLyB9LCBbaW50ZXJzZWN0aW5nXSk7XG5cbiAgLy8gaW5maW5pdHkgc2Nyb2xsIOyggeyaqSDtm4RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW50ZXJzZWN0aW5nICYmIGhhc05leHRQYWdlKSBmZXRjaE5leHRQYWdlKCk7XG4gIH0sIFtpbnRlcnNlY3RpbmcsIGhhc05leHRQYWdlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3VzZXJJZCAmJiA8TXNnSW5wdXQgbXV0YXRlPXtvbkNyZWF0ZX0gLz59XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibWVzc2FnZXNcIj57XG4gICAgICAgIG1zZ3MubWFwKG1zZyA9PlxuICAgICAgICAgIDxNc2dJdGVtXG4gICAgICAgICAgICBrZXk9e21zZy5pZH1cbiAgICAgICAgICAgIHsuLi5tc2d9XG4gICAgICAgICAgICBvblVwZGF0ZT17b25VcGRhdGV9XG4gICAgICAgICAgICBvbkRlbGV0ZT17KCkgPT4gb25EZWxldGUobXNnLmlkKX1cbiAgICAgICAgICAgIHN0YXJ0RWRpdD17KCkgPT4gc2V0RWRpdGluZ0lkKG1zZy5pZCl9XG4gICAgICAgICAgICBpc0VkaXRpbmc9e2VkaXRpbmdJZCA9PT0gbXNnLmlkfVxuICAgICAgICAgICAgbXlJZD17dXNlcklkfVxuICAgICAgICAgICAgdXNlcj17dXNlcnMuZmluZCh1c2VyID0+IHVzZXIuaWQgPT09IG1zZy51c2VySWQpfVxuICAgICAgICAgIC8+KVxuICAgICAgfTwvdWw+XG4gICAgICA8ZGl2IHJlZj17ZmV0Y2hNb3JlRWx9IC8+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXNnTGlzdEdyYXBocWw7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJNc2dJdGVtIiwiTXNnSW5wdXQiLCJmZXRjaGVyIiwiUXVlcnlLZXlzIiwidXNlUXVlcnkiLCJ1c2VNdXRhdGlvbiIsInVzZVF1ZXJ5Q2xpZW50IiwidXNlSW5maW5pdGVRdWVyeSIsIkNSRUFURV9NRVNTQUdFIiwiR0VUX01FU1NBR0VTIiwiVVBEQVRFX01FU1NBR0UiLCJERUxFVEVfTUVTU0FHRSIsInVzZUluZmluaXRlU2Nyb2xsIiwiTXNnTGlzdEdyYXBocWwiLCJzbXNncyIsInVzZXJzIiwiY29uc29sZSIsImxvZyIsImNsaWVudCIsInF1ZXJ5IiwidXNlcklkIiwidXNlcmlkIiwibXNncyIsInNldE1zZ3MiLCJlZGl0aW5nSWQiLCJzZXRFZGl0aW5nSWQiLCJmZXRjaE1vcmVFbCIsImludGVyc2VjdGluZyIsIm11dGF0ZSIsIm9uQ3JlYXRlIiwidGV4dCIsIm9uU3VjY2VzcyIsImNyZWF0ZU1lc3NhZ2UiLCJzZXRRdWVyeURhdGEiLCJNRVNTQUdFUyIsIm9sZCIsIm1lc3NhZ2VzIiwib25VcGRhdGUiLCJpZCIsInVwZGF0ZU1lc3NhZ2UiLCJkb25lRWRpdCIsInBhZ2VJbmRleCIsIm1zZ0luZGV4IiwiZmluZFRhcmdldE1zZ0luZGV4IiwicGFnZXMiLCJuZXdNc2dzIiwiZ2V0TmV3TWVzc2FnZXMiLCJzcGxpY2UiLCJvbkRlbGV0ZSIsImRlbGV0ZU1lc3NhZ2UiLCJkZWxldGVkSWQiLCJ0YXJnZXRJbmRleCIsImZpbmRJbmRleCIsIm1zZyIsImRhdGEiLCJlcnJvciIsImlzRXJyb3IiLCJmZXRjaE5leHRQYWdlIiwiaGFzTmV4dFBhZ2UiLCJwYWdlUGFyYW0iLCJjdXJzb3IiLCJnZXROZXh0UGFnZVBhcmFtIiwibGVuZ3RoIiwibWVyZ2VkTXNncyIsImZsYXRNYXAiLCJwYWdlIiwidWwiLCJjbGFzc05hbWUiLCJtYXAiLCJzdGFydEVkaXQiLCJpc0VkaXRpbmciLCJteUlkIiwidXNlciIsImZpbmQiLCJkaXYiLCJyZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/MsgListGraphql.js\n");

/***/ }),

/***/ "./graphql/message.js":
/*!****************************!*\
  !*** ./graphql/message.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GET_MESSAGES\": () => (/* binding */ GET_MESSAGES),\n/* harmony export */   \"GET_MESSAGE\": () => (/* binding */ GET_MESSAGE),\n/* harmony export */   \"CREATE_MESSAGE\": () => (/* binding */ CREATE_MESSAGE),\n/* harmony export */   \"UPDATE_MESSAGE\": () => (/* binding */ UPDATE_MESSAGE),\n/* harmony export */   \"DELETE_MESSAGE\": () => (/* binding */ DELETE_MESSAGE)\n/* harmony export */ });\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ \"graphql-tag\");\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);\n\nconst GET_MESSAGES = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  query GET_MESSAGES($cursor: ID) {\n    messages(cursor: $cursor) {\n      id\n      text\n      userId\n      timestamp\n    }\n  }\n`;\nconst GET_MESSAGE = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  query GET_MESSAGE($id: ID!) {\n    message(id: $id) {\n      id\n      text\n      userId\n      timestamp\n    }\n  }\n`;\nconst CREATE_MESSAGE = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  mutation CREATE_MESSAGE($text: String!, $userId: ID!) {\n    createMessage(text: $text, userId: $userId) {\n      id\n      text\n      userId\n      timestamp\n    }\n  }\n`;\nconst UPDATE_MESSAGE = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  mutation UPDATE_MESSAGE($id: ID!, $text: String!, $userId: ID!) {\n    updateMessage(id: $id, text: $text, userId: $userId) {\n      id\n      text\n      userId\n      timestamp\n    }\n  }\n`;\nconst DELETE_MESSAGE = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  mutation DELETE_MESSAGE($id: ID!, $userId: ID!) {\n    deleteMessage(id: $id, userId: $userId)\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ncmFwaHFsL21lc3NhZ2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpQztBQUUxQixLQUFLLENBQUNDLFlBQVksR0FBR0QsNENBQUcsQ0FBQzs7Ozs7Ozs7O0FBU2hDO0FBRU8sS0FBSyxDQUFDRSxXQUFXLEdBQUdGLDRDQUFHLENBQUM7Ozs7Ozs7OztBQVMvQjtBQUVPLEtBQUssQ0FBQ0csY0FBYyxHQUFHSCw0Q0FBRyxDQUFDOzs7Ozs7Ozs7QUFTbEM7QUFFTyxLQUFLLENBQUNJLGNBQWMsR0FBR0osNENBQUcsQ0FBQzs7Ozs7Ozs7O0FBU2xDO0FBRU8sS0FBSyxDQUFDSyxjQUFjLEdBQUdMLDRDQUFHLENBQUM7Ozs7QUFJbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQvLi9ncmFwaHFsL21lc3NhZ2UuanM/NGI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncWwgfSBmcm9tICdncmFwaHFsLXRhZyc7XG5cbmV4cG9ydCBjb25zdCBHRVRfTUVTU0FHRVMgPSBncWxgXG4gIHF1ZXJ5IEdFVF9NRVNTQUdFUygkY3Vyc29yOiBJRCkge1xuICAgIG1lc3NhZ2VzKGN1cnNvcjogJGN1cnNvcikge1xuICAgICAgaWRcbiAgICAgIHRleHRcbiAgICAgIHVzZXJJZFxuICAgICAgdGltZXN0YW1wXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgR0VUX01FU1NBR0UgPSBncWxgXG4gIHF1ZXJ5IEdFVF9NRVNTQUdFKCRpZDogSUQhKSB7XG4gICAgbWVzc2FnZShpZDogJGlkKSB7XG4gICAgICBpZFxuICAgICAgdGV4dFxuICAgICAgdXNlcklkXG4gICAgICB0aW1lc3RhbXBcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBDUkVBVEVfTUVTU0FHRSA9IGdxbGBcbiAgbXV0YXRpb24gQ1JFQVRFX01FU1NBR0UoJHRleHQ6IFN0cmluZyEsICR1c2VySWQ6IElEISkge1xuICAgIGNyZWF0ZU1lc3NhZ2UodGV4dDogJHRleHQsIHVzZXJJZDogJHVzZXJJZCkge1xuICAgICAgaWRcbiAgICAgIHRleHRcbiAgICAgIHVzZXJJZFxuICAgICAgdGltZXN0YW1wXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgY29uc3QgVVBEQVRFX01FU1NBR0UgPSBncWxgXG4gIG11dGF0aW9uIFVQREFURV9NRVNTQUdFKCRpZDogSUQhLCAkdGV4dDogU3RyaW5nISwgJHVzZXJJZDogSUQhKSB7XG4gICAgdXBkYXRlTWVzc2FnZShpZDogJGlkLCB0ZXh0OiAkdGV4dCwgdXNlcklkOiAkdXNlcklkKSB7XG4gICAgICBpZFxuICAgICAgdGV4dFxuICAgICAgdXNlcklkXG4gICAgICB0aW1lc3RhbXBcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBERUxFVEVfTUVTU0FHRSA9IGdxbGBcbiAgbXV0YXRpb24gREVMRVRFX01FU1NBR0UoJGlkOiBJRCEsICR1c2VySWQ6IElEISkge1xuICAgIGRlbGV0ZU1lc3NhZ2UoaWQ6ICRpZCwgdXNlcklkOiAkdXNlcklkKVxuICB9XG5gOyJdLCJuYW1lcyI6WyJncWwiLCJHRVRfTUVTU0FHRVMiLCJHRVRfTUVTU0FHRSIsIkNSRUFURV9NRVNTQUdFIiwiVVBEQVRFX01FU1NBR0UiLCJERUxFVEVfTUVTU0FHRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./graphql/message.js\n");

/***/ }),

/***/ "./graphql/user.js":
/*!*************************!*\
  !*** ./graphql/user.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GET_USERS\": () => (/* binding */ GET_USERS),\n/* harmony export */   \"GET_USER\": () => (/* binding */ GET_USER)\n/* harmony export */ });\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ \"graphql-tag\");\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);\n\nconst GET_USERS = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  query GET_USERS {\n    users {\n      id\n      nickname\n    }\n  }\n`;\nconst GET_USER = graphql_tag__WEBPACK_IMPORTED_MODULE_0__.gql`\n  query GET_USER($id: ID!) {\n    user(id: $id) {\n      id\n      nickname\n    }\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ncmFwaHFsL3VzZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUUxQixLQUFLLENBQUNDLFNBQVMsR0FBR0QsNENBQUcsQ0FBQzs7Ozs7OztBQU83QjtBQUVPLEtBQUssQ0FBQ0UsUUFBUSxHQUFHRiw0Q0FBRyxDQUFDOzs7Ozs7O0FBTzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50Ly4vZ3JhcGhxbC91c2VyLmpzP2FjODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ3FsIH0gZnJvbSAnZ3JhcGhxbC10YWcnO1xuXG5leHBvcnQgY29uc3QgR0VUX1VTRVJTID0gZ3FsYFxuICBxdWVyeSBHRVRfVVNFUlMge1xuICAgIHVzZXJzIHtcbiAgICAgIGlkXG4gICAgICBuaWNrbmFtZVxuICAgIH1cbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IEdFVF9VU0VSID0gZ3FsYFxuICBxdWVyeSBHRVRfVVNFUigkaWQ6IElEISkge1xuICAgIHVzZXIoaWQ6ICRpZCkge1xuICAgICAgaWRcbiAgICAgIG5pY2tuYW1lXG4gICAgfVxuICB9XG5gOyJdLCJuYW1lcyI6WyJncWwiLCJHRVRfVVNFUlMiLCJHRVRfVVNFUiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./graphql/user.js\n");

/***/ }),

/***/ "./hooks/useInfiniteScroll.js":
/*!************************************!*\
  !*** ./hooks/useInfiniteScroll.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useInfiniteScroll = (targetEl)=>{\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { 0: intersecting , 1: setIntersecting  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const getObserver = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!observerRef.current) {\n            observerRef.current = new IntersectionObserver((entries)=>setIntersecting(entries.some((entry)=>entry.isIntersecting\n                ))\n            );\n        }\n        return observerRef.current;\n    }, [\n        observerRef.current\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (targetEl.current) getObserver().observe(targetEl.current);\n        return ()=>{\n            getObserver().disconnect();\n        };\n    }, [\n        targetEl.current\n    ]);\n    return intersecting;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useInfiniteScroll);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ob29rcy91c2VJbmZpbml0ZVNjcm9sbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0U7QUFFaEUsS0FBSyxDQUFDSSxpQkFBaUIsSUFBR0MsUUFBUSxHQUFJLENBQUM7SUFDckMsS0FBSyxDQUFDQyxXQUFXLEdBQUdKLDZDQUFNLENBQUMsSUFBSTtJQUMvQixLQUFLLE1BQUVLLFlBQVksTUFBRUMsZUFBZSxNQUFJTCwrQ0FBUSxDQUFDLEtBQUs7SUFFdEQsS0FBSyxDQUFDTSxXQUFXLEdBQUdULGtEQUFXLEtBQU8sQ0FBQztRQUNyQyxFQUFFLEdBQUdNLFdBQVcsQ0FBQ0ksT0FBTyxFQUFFLENBQUM7WUFDekJKLFdBQVcsQ0FBQ0ksT0FBTyxHQUFHLEdBQUcsQ0FBQ0Msb0JBQW9CLEVBQUNDLE9BQU8sR0FBSUosZUFBZSxDQUN2RUksT0FBTyxDQUFDQyxJQUFJLEVBQUNDLEtBQUssR0FBSUEsS0FBSyxDQUFDQyxjQUFjOzthQUMxQyxDQUFDO1FBQ0wsQ0FBQztRQUNELE1BQU0sQ0FBQ1QsV0FBVyxDQUFDSSxPQUFPO0lBQzVCLENBQUMsRUFBRSxDQUFDSjtRQUFBQSxXQUFXLENBQUNJLE9BQU87SUFBQSxDQUFDO0lBRXhCVCxnREFBUyxLQUFPLENBQUM7UUFDZixFQUFFLEVBQUVJLFFBQVEsQ0FBQ0ssT0FBTyxFQUFFRCxXQUFXLEdBQUdPLE9BQU8sQ0FBQ1gsUUFBUSxDQUFDSyxPQUFPLENBQUMsQ0FBQztRQUU5RCxNQUFNLEtBQU8sQ0FBQztZQUNaRCxXQUFXLEdBQUdRLFVBQVUsRUFBRSxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDLEVBQUUsQ0FBQ1o7UUFBQUEsUUFBUSxDQUFDSyxPQUFPO0lBQUEsQ0FBQyxDQUFDLENBQUM7SUFFdkIsTUFBTSxDQUFDSCxZQUFZO0FBQ3JCLENBQUM7QUFFRCxpRUFBZUgsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQvLi9ob29rcy91c2VJbmZpbml0ZVNjcm9sbC5qcz80MWUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuXG5jb25zdCB1c2VJbmZpbml0ZVNjcm9sbCA9IHRhcmdldEVsID0+IHtcbiAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpbnRlcnNlY3RpbmcsIHNldEludGVyc2VjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgZ2V0T2JzZXJ2ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFvYnNlcnZlclJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4gc2V0SW50ZXJzZWN0aW5nKFxuICAgICAgICBlbnRyaWVzLnNvbWUoZW50cnkgPT4gZW50cnkuaXNJbnRlcnNlY3RpbmcpXG4gICAgICApKTtcbiAgICB9XG4gICAgcmV0dXJuIG9ic2VydmVyUmVmLmN1cnJlbnQ7XG4gIH0sIFtvYnNlcnZlclJlZi5jdXJyZW50XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodGFyZ2V0RWwuY3VycmVudCkgZ2V0T2JzZXJ2ZXIoKS5vYnNlcnZlKHRhcmdldEVsLmN1cnJlbnQpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGdldE9ic2VydmVyKCkuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSwgW3RhcmdldEVsLmN1cnJlbnRdKTtcblxuICByZXR1cm4gaW50ZXJzZWN0aW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VJbmZpbml0ZVNjcm9sbDsiXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUluZmluaXRlU2Nyb2xsIiwidGFyZ2V0RWwiLCJvYnNlcnZlclJlZiIsImludGVyc2VjdGluZyIsInNldEludGVyc2VjdGluZyIsImdldE9ic2VydmVyIiwiY3VycmVudCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsInNvbWUiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useInfiniteScroll.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getServerSideProps\": () => (/* binding */ getServerSideProps),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_MsgListGraphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/MsgListGraphql */ \"./components/MsgListGraphql.js\");\n/* harmony import */ var _queryClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../queryClient */ \"./queryClient.js\");\n/* harmony import */ var _graphql_message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graphql/message */ \"./graphql/message.js\");\n/* harmony import */ var _graphql_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graphql/user */ \"./graphql/user.js\");\n\n// import MsgList from \"../components/MsgList\";\n\n// import fetcher from \"../fetcher\";\n\n\n\nconst Home = ({ smsgs , users  })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                children: \"Simple SNS\"\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/pages/index.js\",\n                lineNumber: 11,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MsgListGraphql__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                smsgs: smsgs,\n                users: users\n            }, void 0, false, {\n                fileName: \"/Users/seanlee/Documents/nextjs/inflearn-fullstack-react-toy/client/pages/index.js\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n// SSR 구현\nconst getServerSideProps = async ()=>{\n    // 아래는 REST API 를 사용할 때\n    // const smsgs = await fetcher('get', '/messages');\n    // const users = await fetcher('get', '/users');\n    // 아래는 GraphQL 을 사용할 때\n    // const smsgs = await fetcher(GET_MESSAGES);\n    // const users = await fetcher(GET_USERS);\n    // console.log({ smsgs, users });\n    // 콘솔을 찍었을 때 아래와 같이 fetcher 값이 들어온다. 따라서 편히 사용하기 위해 구조분해를 사용\n    // smsgs: {\n    // messages: [\n    //   [Object], [Object], [Object], [Object],\n    //   [Object], [Object], [Object], [Object],\n    // users: { users: [ [Object], [Object] ] }\n    // 메시지는 기존 코드를 유지하기 위해 alias 사용\n    const { messages: smsgs  } = await (0,_queryClient__WEBPACK_IMPORTED_MODULE_2__.fetcher)(_graphql_message__WEBPACK_IMPORTED_MODULE_3__.GET_MESSAGES);\n    const { users  } = await (0,_queryClient__WEBPACK_IMPORTED_MODULE_2__.fetcher)(_graphql_user__WEBPACK_IMPORTED_MODULE_4__.GET_USERS);\n    // 위에처럼 await 를 사용하면 fetcher 통신을 순서대로 두번 날려야 한다. 이는 성능 저하는 불러올 수 있기 때문에\n    // 아래처럼 promise all 을 통해 병렬 구조로 비동기 통신이 이루어 지도록 수정 \n    // const [{ messages: smsgs }, { users }] = await Promise.all[fetcher(GET_MESSAGES), fetcher(GET_USERS)];\n    console.log('get server side props :', users);\n    console.log(smsgs);\n    return {\n        props: {\n            smsgs,\n            users\n        }\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Home);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxFQUErQztBQUNVO0FBQ3pELEVBQW9DO0FBQ0k7QUFDUztBQUNOO0FBRTNDLEtBQUssQ0FBQ0ksSUFBSSxJQUFJLENBQUMsQ0FBQ0MsS0FBSyxHQUFFQyxLQUFLLEVBQUMsQ0FBQyxHQUFLLENBQUM7SUFDbEMsTUFBTTs7d0ZBRURDLENBQUU7MEJBQUMsQ0FBVTs7Ozs7O3dGQUViUCxrRUFBYztnQkFBQ0ssS0FBSyxFQUFFQSxLQUFLO2dCQUFFQyxLQUFLLEVBQUVBLEtBQUs7Ozs7Ozs7O0FBR2hELENBQUM7QUFFRCxFQUFTO0FBQ0YsS0FBSyxDQUFDRSxrQkFBa0IsYUFBZSxDQUFDO0lBQzdDLEVBQXVCO0lBQ1AsRUFBbUM7SUFDbkQsRUFBZ0Q7SUFFaEQsRUFBc0I7SUFDTixFQUE2QjtJQUM3QyxFQUEwQztJQUUxQyxFQUFpQztJQUNqQyxFQUE0RDtJQUNZLEVBQTdEO0lBQ1gsRUFBYztJQUNkLEVBQTRDO0lBQzVDLEVBQTRDO0lBQzVDLEVBQTJDO0lBRTNDLEVBQStCO0lBQ0csS0FBN0IsQ0FBQyxDQUFDLENBQUNDLFFBQVEsRUFBRUosS0FBSyxFQUFDLENBQUMsR0FBRyxLQUFLLENBQUNKLHFEQUFPLENBQUNDLDBEQUFZO0lBQ3RELEtBQUssQ0FBQyxDQUFDLENBQUNJLEtBQUssRUFBQyxDQUFDLEdBQUcsS0FBSyxDQUFDTCxxREFBTyxDQUFDRSxvREFBUztJQUV6QyxFQUF1RTtJQUNPLEVBQTNCO0lBQ25ELEVBQXlHO0lBQ3pHTyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUF5QiwwQkFBRUwsS0FBSyxDQUFDLENBQUM7SUFDOUNJLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTixLQUFLLENBQUMsQ0FBQztJQUNuQixNQUFNLENBQUMsQ0FBQztRQUNOTyxLQUFLLEVBQUUsQ0FBQztZQUFDUCxLQUFLO1lBQUVDLEtBQUs7UUFBQyxDQUFDO0lBQ3pCLENBQUM7QUFDSCxDQUFDO0FBRUQsaUVBQWVGLElBQUksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC8uL3BhZ2VzL2luZGV4LmpzP2JlZTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IE1zZ0xpc3QgZnJvbSBcIi4uL2NvbXBvbmVudHMvTXNnTGlzdFwiO1xuaW1wb3J0IE1zZ0xpc3RHcmFwaHFsIGZyb20gXCIuLi9jb21wb25lbnRzL01zZ0xpc3RHcmFwaHFsXCI7XG4vLyBpbXBvcnQgZmV0Y2hlciBmcm9tIFwiLi4vZmV0Y2hlclwiO1xuaW1wb3J0IHsgZmV0Y2hlciB9IGZyb20gXCIuLi9xdWVyeUNsaWVudFwiO1xuaW1wb3J0IHsgR0VUX01FU1NBR0VTIH0gZnJvbSBcIi4uL2dyYXBocWwvbWVzc2FnZVwiO1xuaW1wb3J0IHsgR0VUX1VTRVJTIH0gZnJvbSBcIi4uL2dyYXBocWwvdXNlclwiO1xuXG5jb25zdCBIb21lID0gKHsgc21zZ3MsIHVzZXJzIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGgxPlNpbXBsZSBTTlM8L2gxPlxuICAgICAgey8qIDxNc2dMaXN0IHNtc2dzPXtzbXNnc30gdXNlcnM9e3VzZXJzfSAvPiAqL31cbiAgICAgIDxNc2dMaXN0R3JhcGhxbCBzbXNncz17c21zZ3N9IHVzZXJzPXt1c2Vyc30gLz5cbiAgICA8Lz5cbiAgKVxufTtcblxuLy8gU1NSIOq1rO2YhFxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGFzeW5jICgpID0+IHtcbiAgLy8g7JWE656Y64qUIFJFU1QgQVBJIOulvCDsgqzsmqntlaAg65WMXG4gIC8vIGNvbnN0IHNtc2dzID0gYXdhaXQgZmV0Y2hlcignZ2V0JywgJy9tZXNzYWdlcycpO1xuICAvLyBjb25zdCB1c2VycyA9IGF3YWl0IGZldGNoZXIoJ2dldCcsICcvdXNlcnMnKTtcblxuICAvLyDslYTrnpjripQgR3JhcGhRTCDsnYQg7IKs7Jqp7ZWgIOuVjFxuICAvLyBjb25zdCBzbXNncyA9IGF3YWl0IGZldGNoZXIoR0VUX01FU1NBR0VTKTtcbiAgLy8gY29uc3QgdXNlcnMgPSBhd2FpdCBmZXRjaGVyKEdFVF9VU0VSUyk7XG5cbiAgLy8gY29uc29sZS5sb2coeyBzbXNncywgdXNlcnMgfSk7XG4gIC8vIOy9mOyGlOydhCDssI3sl4jsnYQg65WMIOyVhOuemOyZgCDqsJnsnbQgZmV0Y2hlciDqsJLsnbQg65Ok7Ja07Jio64ukLiDrlLDrnbzshJwg7Y647Z6IIOyCrOyaqe2VmOq4sCDsnITtlbQg6rWs7KGw67aE7ZW066W8IOyCrOyaqVxuICAvLyBzbXNnczoge1xuICAvLyBtZXNzYWdlczogW1xuICAvLyAgIFtPYmplY3RdLCBbT2JqZWN0XSwgW09iamVjdF0sIFtPYmplY3RdLFxuICAvLyAgIFtPYmplY3RdLCBbT2JqZWN0XSwgW09iamVjdF0sIFtPYmplY3RdLFxuICAvLyB1c2VyczogeyB1c2VyczogWyBbT2JqZWN0XSwgW09iamVjdF0gXSB9XG5cbiAgLy8g66mU7Iuc7KeA64qUIOq4sOyhtCDsvZTrk5zrpbwg7Jyg7KeA7ZWY6riwIOychO2VtCBhbGlhcyDsgqzsmqlcbiAgY29uc3QgeyBtZXNzYWdlczogc21zZ3MgfSA9IGF3YWl0IGZldGNoZXIoR0VUX01FU1NBR0VTKTtcbiAgY29uc3QgeyB1c2VycyB9ID0gYXdhaXQgZmV0Y2hlcihHRVRfVVNFUlMpO1xuXG4gIC8vIOychOyXkOyymOufvCBhd2FpdCDrpbwg7IKs7Jqp7ZWY66m0IGZldGNoZXIg7Ya17Iug7J2EIOyInOyEnOuMgOuhnCDrkZDrsogg64Kg66Ck7JW8IO2VnOuLpC4g7J2064qUIOyEseuKpSDsoIDtlZjripQg67aI65+s7JisIOyImCDsnojquLAg65WM66y47JeQXG4gIC8vIOyVhOuemOyymOufvCBwcm9taXNlIGFsbCDsnYQg7Ya17ZW0IOuzkeugrCDqtazsobDroZwg67mE64+Z6riwIO2GteyLoOydtCDsnbTro6jslrQg7KeA64+E66GdIOyImOyglSBcbiAgLy8gY29uc3QgW3sgbWVzc2FnZXM6IHNtc2dzIH0sIHsgdXNlcnMgfV0gPSBhd2FpdCBQcm9taXNlLmFsbFtmZXRjaGVyKEdFVF9NRVNTQUdFUyksIGZldGNoZXIoR0VUX1VTRVJTKV07XG4gIGNvbnNvbGUubG9nKCdnZXQgc2VydmVyIHNpZGUgcHJvcHMgOicsIHVzZXJzKTtcbiAgY29uc29sZS5sb2coc21zZ3MpO1xuICByZXR1cm4ge1xuICAgIHByb3BzOiB7IHNtc2dzLCB1c2VycyB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdLCJuYW1lcyI6WyJNc2dMaXN0R3JhcGhxbCIsImZldGNoZXIiLCJHRVRfTUVTU0FHRVMiLCJHRVRfVVNFUlMiLCJIb21lIiwic21zZ3MiLCJ1c2VycyIsImgxIiwiZ2V0U2VydmVyU2lkZVByb3BzIiwibWVzc2FnZXMiLCJjb25zb2xlIiwibG9nIiwicHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./queryClient.js":
/*!************************!*\
  !*** ./queryClient.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetcher\": () => (/* binding */ fetcher),\n/* harmony export */   \"QueryKeys\": () => (/* binding */ QueryKeys)\n/* harmony export */ });\n/* harmony import */ var graphql_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-request */ \"graphql-request\");\n/* harmony import */ var graphql_request__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_request__WEBPACK_IMPORTED_MODULE_0__);\n\nconst URL = 'http://localhost:8000/graphql';\nconst fetcher = (query, variables = {})=>(0,graphql_request__WEBPACK_IMPORTED_MODULE_0__.request)(URL, query, variables)\n;\nconst QueryKeys = {\n    MESSAGES: 'MESSAGES',\n    MESSAGE: 'MESSAGE',\n    USERS: 'USERS',\n    USER: 'USER'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9xdWVyeUNsaWVudC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQ3pDLEtBQUssQ0FBQ0MsR0FBRyxHQUFHLENBQStCO0FBRXBDLEtBQUssQ0FBQ0MsT0FBTyxJQUFJQyxLQUFLLEVBQUVDLFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBS0osd0RBQU8sQ0FBQ0MsR0FBRyxFQUFFRSxLQUFLLEVBQUVDLFNBQVM7O0FBRXhFLEtBQUssQ0FBQ0MsU0FBUyxHQUFHLENBQUM7SUFDeEJDLFFBQVEsRUFBRSxDQUFVO0lBQ3BCQyxPQUFPLEVBQUUsQ0FBUztJQUNsQkMsS0FBSyxFQUFFLENBQU87SUFDZEMsSUFBSSxFQUFFLENBQU07QUFDZCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50Ly4vcXVlcnlDbGllbnQuanM/ZGExMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnZ3JhcGhxbC1yZXF1ZXN0JztcbmNvbnN0IFVSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvZ3JhcGhxbCc7XG5cbmV4cG9ydCBjb25zdCBmZXRjaGVyID0gKHF1ZXJ5LCB2YXJpYWJsZXMgPSB7fSkgPT4gcmVxdWVzdChVUkwsIHF1ZXJ5LCB2YXJpYWJsZXMpO1xuXG5leHBvcnQgY29uc3QgUXVlcnlLZXlzID0ge1xuICBNRVNTQUdFUzogJ01FU1NBR0VTJyxcbiAgTUVTU0FHRTogJ01FU1NBR0UnLFxuICBVU0VSUzogJ1VTRVJTJyxcbiAgVVNFUjogJ1VTRVInXG59O1xuIl0sIm5hbWVzIjpbInJlcXVlc3QiLCJVUkwiLCJmZXRjaGVyIiwicXVlcnkiLCJ2YXJpYWJsZXMiLCJRdWVyeUtleXMiLCJNRVNTQUdFUyIsIk1FU1NBR0UiLCJVU0VSUyIsIlVTRVIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./queryClient.js\n");

/***/ }),

/***/ "graphql-request":
/*!**********************************!*\
  !*** external "graphql-request" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("graphql-request");

/***/ }),

/***/ "graphql-tag":
/*!******************************!*\
  !*** external "graphql-tag" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("graphql-tag");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react-query":
/*!******************************!*\
  !*** external "react-query" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("react-query");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.js"));
module.exports = __webpack_exports__;

})();